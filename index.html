<!DOCTYPE html>
<html>
  <head><title>Hello world</title></head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
  <script>
    var socket = io();

    // Llamamos al evento con los datos que tre desde el servidor.
    // socket.on('testEvent', function(data) {
    // 	document.write(data.description)

    // 	console.log(data)
    // })

    // Eminiendo un evento desde el cliente hacia el servidor.
    var users = [
    	{
    		id: 1,
    		username: '@tororito',
    		email: 'toro@gmail.com'
    	}
    ]

    socket.emit('usersList', { users })

    function addUser() {
    	users.push({
    		id: 2,
    		username: '@gambliel',
    		email: 'gamaliel21@gmail.com'
    	})

    	// Despues de agregar el usuario, emitimos al servidor los cambios.

    	socket.emit('addUsers', { users })
    }

  </script>

  <body>
  	<h3>Hello world</h3>
  	<button onclick="addUser()">Add user</button>
  </body>

</html>